---
import TagPill from '@/components/blog/TagPill.astro'
import { formatDate } from '@/utils/blog'

interface Post {
  slug: string
  data: {
    title: string
    description: string
    pubDate: Date
    tags: string[]
    heroImage?: string
  }
}

const { post } = Astro.props as { post: Post }
---

<article class='group flex h-full flex-col gap-4 rounded-xl border border-border bg-card/50 p-4 shadow-sm transition hover:-translate-y-1 hover:shadow-md dark:bg-card/30'>
  <a href={`/blog/${post.slug}`} class='block overflow-hidden rounded-lg'>
    <img
      src={post.data.heroImage || '/images/blog-post/post-1.webp'}
      alt={post.data.title}
      class='aspect-[16/9] w-full object-cover transition duration-300 group-hover:scale-[1.02]'
      loading='lazy'
    />
  </a>
  <div class='flex flex-wrap items-center gap-2 text-sm text-muted-foreground'>
    <span>{formatDate(post.data.pubDate)}</span>
    <span class='text-border'>â€¢</span>
    <div class='flex flex-wrap gap-1'>
      {post.data.tags.map(tag => (
        <TagPill tag={tag} />
      ))}
    </div>
  </div>
  <a href={`/blog/${post.slug}`} class='space-y-2'>
    <h3 class='text-lg font-semibold text-foreground group-hover:text-primary'>{post.data.title}</h3>
    <p class='text-muted-foreground line-clamp-3'>{post.data.description}</p>
  </a>
</article>
